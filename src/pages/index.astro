---
import { Image } from "astro:assets";

import Layout from "../layouts/Layout.astro";
import Icon from "../components/Icon.astro";
import InstallInstructions from "../components/InstallInstructions.astro";

import welcomeToLivebook from "../images/welcome-to-livebook.png";
import plot from "../images/plot.svg";
import smartCells from "../images/smart-cells.png";
import editorFeatures from "../images/editor-features.png";
import diff from "../images/diff.svg";
import learn from "../images/learn.png";

import integrations from "../data/integrations";

const selectedIntegrations = integrations.filter((integration) =>
  [
    "elixir",
    "hugging-face",
    "slack",
    "postgresql",
    "mysql",
    "google-bigquery",
    "amazon-athena",
    "vega-lite",
    "maplibre",
  ].includes(integration.id)
);
---

<Layout title="Home">
  <section id="intro" class="bg-white overflow-x-hidden">
    <div
      class="m-auto max-w-7xl px-4 pt-12 pb-20 flex flex-col xl:flex-row space-y-16 md:space-y-20 xl:space-y-0"
    >
      <div
        class="flex flex-col xl:min-w-[44%] xl:justify-center space-y-8 text-center xl:text-left items-center xl:items-start"
      >
        <h2 class="max-w-lg text-3xl font-light xl:text-left text-gray-900">
          Automate
          <span class="font-bold text-brand-pink">code</span>
          &
          <span class="font-bold text-brand-pink">data</span>
          workflows with interactive notebooks
        </h2>
        <span class="text-lg text-gray-700 max-w-xl">
          Get rid of scripts, manual steps, and outdated docs. Use Elixir and
          Livebook to share knowledge, deploy apps, visualize data, run machine
          learning models, debug systems, and more!
        </span>
        <nav
          class="flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-6"
        >
          <a
            class="pl-2 pr-8 py-3 flex items-center rounded-xl bg-gray-900 text-gray-50"
            href="#install"
          >
            <Icon icon="rocket-line px-4 text-3xl text-gray-300" />
            <div class="flex flex-col">
              <span class="font-bold">Install Livebook</span>
              <span class="text-sm">Locally or on the cloud</span>
            </div>
          </a>
          <a
            class="pl-2 pr-8 py-3 flex items-center rounded-xl text-gray-700 border-2 border-gray-300"
            href="https://github.com/livebook-dev/livebook"
            target="_blank"
          >
            <Icon icon="github-line px-4 text-3xl text-gray-400" />
            <div class="flex flex-col">
              <span class="font-bold">Star us on GitHub</span>
              <span class="text-sm">and join our community</span>
            </div>
          </a>
        </nav>
      </div>
      <Image
        class="xl:max-w-[70%] xl:ml-20 rounded-md custom-shadow-1"
        src={welcomeToLivebook}
        alt="Logo"
        loading="eager"
      />
    </div>
  </section>

  <!-- Install instructions -->
  <section id="install" class="bg-gray-100">
    <div
      class="m-auto max-w-7xl px-4 pt-10 md:pt-20 flex flex-col items-center"
    >
      <h2 class="text-gray-900 text-2xl md:text-3xl font-semibold text-center">
        Install Livebook in just a minute
      </h2>
      <span class="mt-3 md:max-w-lg text-gray-700 font-medium text-center">
        Livebook is open source, free, and ready to run anywhere.
      </span>
    </div>
    <div class="pb-8 md:pb-16"><InstallInstructions /></div>
  </section>

  <!-- Livebook Teams -->
  <section id="livebook-teams" class="bg-gray-800">
    <div class="px-4 py-12 md:py-20">
      <div
        class="m-auto max-w-4xl bg-gradient-to-r from-brand-pink to-blue-600 rounded-[32px] text-center p-[2px]"
      >
        <div class="h-full w-full rounded-[32px] bg-gray-800 py-12 lg:py-16">
          <div class="m-auto max-w-xl flex flex-col items-center">
            <h2
              class="text-gray-50 max-w-sm lg:max-w-md font-semibold text-center text-2xl md:text-3xl"
            >
              Livebook Teams is coming!
            </h2>
            <span class="max-w-md text-gray-200 mt-6 px-2 sm:px-0"
              >Livebook Teams amplifies Livebookâ€™s capabilities with features
              designed for teams and businesses.</span
            >
            <a
              class="px-5 py-3 lg:px-6 lg:py-3 bg-white rounded-lg border border-gray-300 mt-8 plausible-event-name=home+teams+cta+click"
              href="/teams"
            >
              <div
                class="text-gray-700 text-sm lg:text-base font-medium leading-normal"
              >
                Learn more
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="bg-gray-900">
    <div
      class="w-full px-4 py-12 md:py-28 flex flex-col items-center space-y-16 md:space-y-24"
    >
      <!-- Heading -->
      <div class="flex flex-col items-center">
        <h2
          class="text-gray-100 font-semibold text-center text-2xl md:text-4xl"
        >
          Do more with Livebook
        </h2>
        <span class="mt-3 max-w-md text-gray-300 font-medium text-center">
          Notebooks mix prose, code, and rich output. Livebook supercharges them
          with awesome features:
        </span>
      </div>
      <!-- Data -->
      <div
        class="flex flex-col md:flex-row items-center space-y-8 md:space-y-0 md:space-x-8 lg:space-x-28"
      >
        <aside>
          <Image src={plot} alt="" width="448" />
        </aside>
        <div class="flex flex-col">
          <h3 class="text-xl text-gray-50 font-semibold">
            Interactive insights
          </h3>
          <span class="mt-3 md:max-w-md text-gray-300">
            Visualize your data using charts, tables, maps, and diagrams. Then
            add inputs and controls to make it all interactive.
          </span>
        </div>
      </div>
      <!--Smart Cells-->
      <div
        class="flex flex-col md:flex-row-reverse items-center space-y-8 md:space-y-0"
      >
        <Image
          class="custom-drop-shadow-1"
          src={smartCells}
          alt=""
          width="550"
        />
        <div class="flex flex-col md:mr-8 lg:mr-28">
          <h3 class="text-xl text-gray-50 font-semibold">
            Explore and automate
          </h3>
          <span class="mt-3 md:max-w-md text-gray-300">
            Use Smart cells to perform high-level tasks and write notebooks
            faster than ever! Join our growing community to learn and master new
            workflows, from database queries to Machine Learning models.
          </span>
        </div>
      </div>
      <!-- Screenshot with features -->
      <div class="max-w-7xl">
        <div class="relative flex flex-col space-y-8">
          <!-- Feature 1 -->
          <div class="lg:ml-[56px] flex flex-col rounded-xl">
            <h3 class="text-xl text-gray-50 font-semibold">
              Collaborate as a team
            </h3>
            <span class="mt-3 lg:max-w-md text-gray-300">
              Write code, analyze results, and document your findings together,
              in realtime.
            </span>
          </div>
          <!-- Screenshot with border -->
          <div
            class="flex flex-col lg:flex-row space-y-8 lg:space-y-0 lg:space-x-8 lg:items-center"
          >
            <div class="relative p-[2px] flex-shrink">
              <!-- Add an absolute overlapping border. If we put the
                   border on the image there's a tiny gap -->
              <div
                class="rounded-md md:rounded-2xl absolute top-0 bottom-0 left-0 right-0 pointer-events-none border-4 border-gray-100"
              >
              </div>
              <Image
                class="rounded-md md:rounded-2xl"
                src={editorFeatures}
                alt=""
                width="850"
              />
            </div>
            <!-- Feature 2 -->
            <div class="flex flex-col rounded-xl">
              <h3 class="text-xl text-gray-50 font-semibold">
                Reproducible workflows
              </h3>
              <span class="mt-3 lg:max-w-md text-gray-300">
                Run your code in a predictable order, all the way down to
                package management. Livebook also tracks your notebook state,
                annotating which parts are stale.
              </span>
            </div>
          </div>
          <!-- Feature 3 -->
          <div class="lg:ml-[218px] flex flex-col rounded-xl">
            <h3 class="text-xl text-gray-50 font-semibold">
              Productivity at your fingertips
            </h3>
            <span class="mt-3 lg:max-w-md text-gray-300">
              Livebook's code editor supports autocompletion, inline
              documentation, code formatting, and more. Plus keyboard shortcuts
              throughout the notebook.
            </span>
          </div>
        </div>
      </div>
      <!-- Diff -->
      <div
        class="flex flex-col md:flex-row items-center space-y-8 md:space-y-0 md:space-x-8 lg:space-x-28"
      >
        <Image class="custom-drop-shadow-1" src={diff} alt="" width="448" />
        <div class="flex flex-col">
          <h3 class="text-xl text-gray-50 font-semibold">
            Write once, read anywhere
          </h3>
          <span class="mt-3 md:max-w-md text-gray-300">
            Notebooks are stored as .livemd files, a subset of Markdown that
            meshes together prose, code, and diagrams. Livebooks are easy to
            read, share, and version within your existing tooling.
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Integrations -->
  <section id="integrations">
    <div class="m-auto px-4 py-12 md:pt-20 flex flex-col items-center">
      <h2 class="text-gray-900 text-2xl md:text-3xl font-semibold text-center">
        Integrations
      </h2>
      <span class="mt-3 max-w-lg text-gray-700 font-medium text-center">
        Livebook comes with built-in integrations with Elixir, Hugging Face,
        multiple data sources, data visualization libraries, and more!
      </span>
      <a
        class="mt-8 button button-outlined-gray whitespace-nowrap"
        href="/integrations">Browse Integrations</a
      >
    </div>

    <div class="relative max-w-7xl m-auto">
      <div
        class="hidden md:block absolute right-0 h-[100%] w-[20%] bg-gradient-to-r from-transparent via-white/75 to-white/100"
      >
      </div>
      <div
        class="hidden md:block absolute left-0 h-[100%] w-[20%] bg-gradient-to-l from-transparent via-white/75 to-white/100"
      >
      </div>
      <div class="m-auto md:flex md:flex-col justify-center items-center">
        <div
          class="integrations-grid w-full grid grid-cols-4 md:grid-cols-10 border-l md:border-l-0 border-t border-gray-300"
        >
          <div
            class="hidden md:flex col-span-2 border-b border-r border-gray-300"
            style={{ order: 1 }}
          >
          </div>
          <div
            class="hidden md:flex col-span-2 border-b border-gray-300"
            style={{ order: 4 }}
          >
          </div>
          <div
            class="hidden md:flex border-b border-r border-gray-300"
            style={{ order: 4 }}
          >
          </div>
          <div
            class="hidden md:flex border-b border-gray-300"
            style={{ order: 8 }}
          >
          </div>
          <div
            class="hidden md:flex col-span-2 border-b border-r border-gray-300"
            style={{ order: 8 }}
          >
          </div>
          <div
            class="hidden md:flex col-span-2 border-b border-gray-300"
            style={{ order: 11 }}
          >
          </div>
          {
            selectedIntegrations.map((integration, idx) => (
              <div
                class="flex flex-col col-span-2 border-b border-r border-gray-300 justify-center items-center h-32 md:h-36 lg:h-44"
                style={{ order: idx + 1 }}
              >
                <a
                  href={`/integrations/${integration.id}`}
                  class="flex flex-col items-center"
                >
                  <img
                    class="h-[40px] lg:h-[60px]"
                    src={integration.logo.src}
                    alt={`${integration.name} logo`}
                  />
                  <span class="text-gray-700 font-medium text-base lg:mt-2">
                    {integration.name}
                  </span>
                  <span class="text-gray-500 font-medium md:font-semibold text-xs uppercase tracking-wider sm:tracking-widest">
                    {integration.category}
                  </span>
                </a>
              </div>
            ))
          }
          <div
            class="flex flex-col col-span-2 border-b border-r border-gray-300 justify-center items-center h-32 md:h-36 lg:h-44"
            style={{ order: 10 }}
          >
            <a
              class="flex flex-col items-center text-blue-700"
              href="/integrations"
            >
              <Icon icon="arrow-right-line text-5xl text-gray-400" />
              <span class="text-blue-700 hover:text-gray-600 text-base lg:mt-2"
                >See All</span
              >
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Learn -->
  <section id="learn" class="bg-white">
    <div
      class="m-auto max-w-7xl lg:mt-8 px-4 lg:px-16 py-10 md:py-20 flex flex-col md:flex-row items-center gap-8 lg:gap-16"
    >
      <Image
        class="max-w-[80%] md:max-w-[50%]"
        src={learn}
        alt="Livebook's Learning Center Screenshot"
      />
      <div class="flex flex-col items-start">
        <h2 class="text-gray-900 text-2xl md:text-3xl font-semibold">
          Not familiar with Elixir?
        </h2>
        <span class="mt-3 lg:max-w-[90%] text-gray-700">
          Once Livebook is up and running, check out the Learn section to
          explore the language, the platform, and Livebook itself.
        </span>
        <a
          class="mt-8 button button-outlined-gray whitespace-nowrap"
          href="#install">Go to install</a
        >
      </div>
    </div>
  </section>
</Layout>
